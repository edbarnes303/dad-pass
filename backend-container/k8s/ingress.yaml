apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: dad-pass
    namespace: dad-pass
    labels:
        app: dad-pass
    annotations:
        # ALB Ingress Controller annotations
        kubernetes.io/ingress.class: alb
        alb.ingress.kubernetes.io/scheme: internet-facing
        alb.ingress.kubernetes.io/target-type: ip
        alb.ingress.kubernetes.io/healthcheck-path: /
        alb.ingress.kubernetes.io/healthcheck-interval-seconds: '30'
        alb.ingress.kubernetes.io/healthcheck-timeout-seconds: '5'
        alb.ingress.kubernetes.io/healthy-threshold-count: '2'
        alb.ingress.kubernetes.io/unhealthy-threshold-count: '3'
        alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}]'
        # IngressGroup: share a single ALB across apps
        alb.ingress.kubernetes.io/group.name: shared-apps
        alb.ingress.kubernetes.io/group.order: '1'
        # Tags for the ALB
        alb.ingress.kubernetes.io/tags: Project=shared-apps,Environment=dev
spec:
    ingressClassName: alb
    rules:
        - http:
              paths:
                  - path: /dad-pass
                    pathType: Prefix
                    backend:
                        service:
                            name: dad-pass
                            port:
                                number: 80
